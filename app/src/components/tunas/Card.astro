---
/**
 * Tuna Card Component
 * Displays a tuna with avatar and name information
 */
import Avatar from './Avatar.astro';
import type { FrontendTunaWithLogo } from '@lib/cms/types';

interface Props {
  tuna: FrontendTunaWithLogo;
  display?: 'short' | 'full' | 'both';
  size?: 'sm' | 'md' | 'lg';
  class?: string;
}

const {
  tuna,
  display = 'both',
  size = 'md',
  class: className,
} = Astro.props;

const showShortName = display === 'short' || display === 'both';
const showFullName = display === 'full' || display === 'both';
---

<div class:list={['tuna-card', `tuna-card--${size}`, className]}>
  <Avatar
    shortName={tuna.shortName}
    logoUrl={tuna.logoUrl}
    size={size}
    shape="rounded"
  />
  <div class="tuna-card__info">
    {showShortName && (
      <span class="tuna-card__short-name">{tuna.shortName}</span>
    )}
    {showFullName && (
      <span class="tuna-card__full-name">{tuna.fullName}</span>
    )}
  </div>
</div>

<style>
  .tuna-card {
    display: flex;
    align-items: center;
    gap: var(--space-3, 0.75rem);
  }

  .tuna-card__info {
    display: flex;
    flex-direction: column;
    min-width: 0; /* Allow text truncation */
  }

  .tuna-card__short-name {
    font-weight: 600;
    color: var(--color-text);
    line-height: 1.2;
  }

  .tuna-card__full-name {
    color: var(--color-text-muted);
    line-height: 1.3;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* Size variations */
  .tuna-card--sm {
    gap: var(--space-2, 0.5rem);
  }

  .tuna-card--sm .tuna-card__short-name {
    font-size: var(--font-size-sm, 0.875rem);
  }

  .tuna-card--sm .tuna-card__full-name {
    font-size: var(--font-size-xs, 0.75rem);
  }

  .tuna-card--md .tuna-card__short-name {
    font-size: var(--font-size-base, 1rem);
  }

  .tuna-card--md .tuna-card__full-name {
    font-size: var(--font-size-sm, 0.875rem);
  }

  .tuna-card--lg .tuna-card__short-name {
    font-size: var(--font-size-lg, 1.125rem);
  }

  .tuna-card--lg .tuna-card__full-name {
    font-size: var(--font-size-base, 1rem);
  }
</style>
