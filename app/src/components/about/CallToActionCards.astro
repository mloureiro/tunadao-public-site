---
/**
 * CallToActionCards - Two-column CTA cards with full-bleed images
 * Links to Palmares and Citadao sections
 */
import { Image } from 'astro:assets';
import { getLocalizedPath, type Language } from '@i18n/index';
import { Icon } from '@ui/icons';
import SectionDivider from '@components/SectionDivider.astro';
import placaPhoto from '@assets/photos/placa-25-anos.jpg';
import palcoPhoto from '@assets/photos/palco-completo.jpg';

interface Props {
  lang: Language;
  title: string;
  description: string;
  dividerLabel: string;
  palmaresText: string;
  citadaoText: string;
}

const { lang, title, description, dividerLabel, palmaresText, citadaoText } = Astro.props;
---

<section class="cta-cards">
  <div class="container">
    <SectionDivider label={dividerLabel} centered />
    <h2 class="cta-cards__title">{title}</h2>
    <p class="cta-cards__description">{description}</p>

    <div class="cta-cards__grid">
      <!-- Palmares Card -->
      <a
        href={getLocalizedPath('/palmares', lang)}
        class="cta-card"
      >
        <div class="cta-card__image-wrapper">
          <Image
            src={placaPhoto}
            alt={palmaresText}
            widths={[400, 600, 800]}
            sizes="(max-width: 768px) 100vw, 50vw"
          />
          <div class="cta-card__overlay"></div>
        </div>

        <div class="cta-card__content">
          <h3 class="cta-card__title">{palmaresText}</h3>
          <div class="cta-card__link">
            <span>{palmaresText}</span>
            <Icon name="arrow-right" size={20} class="cta-card__arrow" />
          </div>
        </div>
      </a>

      <!-- Citadao Card -->
      <a
        href={getLocalizedPath('/citadao', lang)}
        class="cta-card"
      >
        <div class="cta-card__image-wrapper">
          <Image
            src={palcoPhoto}
            alt={citadaoText}
            widths={[400, 600, 800]}
            sizes="(max-width: 768px) 100vw, 50vw"
          />
          <div class="cta-card__overlay"></div>
        </div>

        <div class="cta-card__content">
          <h3 class="cta-card__title">{citadaoText}</h3>
          <div class="cta-card__link">
            <span>{citadaoText}</span>
            <Icon name="arrow-right" size={20} class="cta-card__arrow" />
          </div>
        </div>
      </a>
    </div>
  </div>
</section>

<style>
  .cta-cards {
    padding: var(--space-16) 0;
    background-color: var(--color-surface);
  }

  .cta-cards__title {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    text-align: center;
    margin-bottom: var(--space-4);
  }

  @media (min-width: 768px) {
    .cta-cards__title {
      font-size: var(--font-size-4xl);
    }
  }

  .cta-cards__description {
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-secondary);
    text-align: center;
    max-width: 42rem;
    margin: 0 auto var(--space-12);
  }

  @media (min-width: 768px) {
    .cta-cards__description {
      font-size: var(--font-size-lg);
    }
  }

  .cta-cards__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-8);
    max-width: var(--container-max-width);
    margin: 0 auto;
    padding: 0 var(--space-4);
  }

  @media (min-width: 768px) {
    .cta-cards__grid {
      grid-template-columns: repeat(2, 1fr);
      padding: 0 var(--space-6);
    }
  }

  .cta-card {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-xl);
    transition: all var(--transition-slow);
    text-decoration: none;
    display: block;
  }

  .cta-card:hover {
    box-shadow: var(--shadow-xl);
    transform: scale(1.02);
  }

  .cta-card__image-wrapper {
    position: relative;
    height: 20rem;
  }

  .cta-card__image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .cta-card__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 40%, transparent 100%);
  }

  .cta-card__content {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: var(--space-8);
  }

  .cta-card__title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: #ffffff;
    margin-bottom: var(--space-4);
    transition: transform var(--transition-slow);
  }

  @media (min-width: 768px) {
    .cta-card__title {
      font-size: var(--font-size-3xl);
    }
  }

  .cta-card:hover .cta-card__title {
    transform: translateY(-4px);
  }

  .cta-card__link {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    color: var(--color-accent-gold);
    font-weight: var(--font-weight-semibold);
    transition: gap var(--transition-slow);
  }

  .cta-card:hover .cta-card__link {
    gap: var(--space-4);
  }

  .cta-card__arrow {
    width: 1.25rem;
    height: 1.25rem;
  }
</style>
