---
/**
 * HistorySection - Alternating 2-column layout with images and text
 * Desktop: text left/image right, then image left/text right
 * Mobile: image1, text1, text2, image2
 */
import { Image } from 'astro:assets';
import ImageFrame from '@components/ImageFrame.astro';
import SectionDivider from '@components/SectionDivider.astro';
import groupPhoto from '@assets/photos/grupo-principal.jpg';
import placaPhoto from '@assets/photos/placa-25-anos.jpg';

interface Props {
  title: string;
  dividerLabel: string;
  p1: string;
  p2: string;
  p3: string;
  p4: string;
  image1Alt: string;
  image2Alt: string;
}

const { title, dividerLabel, p1, p2, p3, p4, image1Alt, image2Alt } = Astro.props;
---

<section class="history">
  <div class="container">
    <SectionDivider label={dividerLabel} />
    <h2 class="history__title">{title}</h2>

    <!-- Row 1: Text LEFT (p1+p2), Image RIGHT -->
    <div class="history__row history__row--1">
      <div class="history__image">
        <ImageFrame>
          <Image
            src={groupPhoto}
            alt={image1Alt}
            widths={[640, 768, 1024]}
            sizes="(max-width: 1024px) 100vw, 50vw"
          />
        </ImageFrame>
      </div>
      <div class="history__text">
        <p class="history__paragraph">{p1}</p>
        <p class="history__paragraph">{p2}</p>
      </div>
    </div>

    <!-- Row 2: Image LEFT, Text RIGHT (p3+p4) -->
    <div class="history__row history__row--2">
      <div class="history__image">
        <ImageFrame>
          <Image
            src={placaPhoto}
            alt={image2Alt}
            widths={[640, 768, 1024]}
            sizes="(max-width: 1024px) 100vw, 50vw"
          />
        </ImageFrame>
      </div>
      <div class="history__text">
        <p class="history__paragraph">{p3}</p>
        <p class="history__paragraph">{p4}</p>
      </div>
    </div>
  </div>
</section>

<style>
  .history {
    padding: var(--space-16) 0;
    background-color: var(--color-background);
  }

  .history__title {
    font-family: var(--font-family-heading);
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    text-align: center;
    margin-bottom: var(--space-12);
  }

  @media (min-width: 768px) {
    .history__title {
      font-size: var(--font-size-4xl);
    }
  }

  .history__row {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-12);
    align-items: center;
    margin-bottom: var(--space-16);
  }

  .history__row:last-child {
    margin-bottom: 0;
  }

  @media (min-width: 1024px) {
    .history__row {
      grid-template-columns: repeat(2, 1fr);
      gap: 5rem;
    }
  }

  /* Mobile order: img1, text1, text2, img2 */
  .history__row--1 .history__text {
    order: 2;
  }

  .history__row--1 .history__image {
    order: 1;
  }

  /* Desktop order for row 1: text LEFT, image RIGHT */
  @media (min-width: 1024px) {
    .history__row--1 .history__text {
      order: 1;
    }

    .history__row--1 .history__image {
      order: 2;
    }
  }

  /* Row 2: image left, text right (natural order on both mobile and desktop) */
  .history__row--2 .history__image {
    order: 1;
  }

  .history__row--2 .history__text {
    order: 2;
  }

  .history__text {
    display: flex;
    flex-direction: column;
    gap: var(--prose-gap);
  }

  .history__paragraph {
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-secondary);
  }

  @media (min-width: 768px) {
    .history__paragraph {
      font-size: var(--font-size-lg);
    }
  }

  .history__image {
    width: 100%;
  }
</style>
