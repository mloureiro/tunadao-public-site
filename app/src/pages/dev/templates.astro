---
import DevLayout from '@layouts/DevLayout.astro';
import { TEMPLATES } from '@templates/core';

const base = import.meta.env.BASE_URL;
---

<DevLayout title="Templates" currentPage="templates">
  <section class="templates-intro">
    <h2>Template System</h2>
    <p>
      Preview and compare different UI templates for the Tunadao website.
      Each template has its own layouts, components, and styles - fully isolated.
    </p>
  </section>

  <section class="templates-grid">
    {TEMPLATES.map((template) => (
      <article class:list={['template-card', { 'template-card--disabled': !template.enabled }]}>
        <div class="template-card__header">
          <h3 class="template-card__name">{template.name}</h3>
          {!template.enabled && <span class="template-card__badge">Coming Soon</span>}
        </div>
        <p class="template-card__description">{template.description}</p>
        {template.enabled ? (
          <div class="template-card__links">
            <a href={`${base}dev/templates/${template.id}/`} class="template-card__link template-card__link--primary">
              Preview Home
            </a>
            <a href={`${base}dev/templates/${template.id}/citadao`} class="template-card__link">
              Citadao
            </a>
            <a href={`${base}dev/templates/${template.id}/palmares`} class="template-card__link">
              Palmares
            </a>
          </div>
        ) : (
          <div class="template-card__links template-card__links--disabled">
            <span class="template-card__link template-card__link--disabled">Not yet available</span>
          </div>
        )}
      </article>
    ))}
  </section>

  <section class="templates-notes">
    <h3>About Templates</h3>
    <ul>
      <li>Each template preview loads only that template's CSS and components</li>
      <li>Templates control layout, typography, and component implementations</li>
      <li>Content and data are shared across all templates</li>
      <li>Use the preview pages to compare templates side by side</li>
    </ul>
  </section>

  <style>
    .templates-intro {
      margin-bottom: var(--space-8);
    }

    .templates-intro h2 {
      font-size: var(--font-size-2xl);
      font-weight: 700;
      margin-bottom: var(--space-2);
    }

    .templates-intro p {
      color: var(--color-text-muted);
      max-width: 600px;
    }

    .templates-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: var(--space-6);
      margin-bottom: var(--space-8);
    }

    .template-card {
      padding: var(--space-6);
      background-color: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    .template-card--disabled {
      opacity: 0.6;
    }

    .template-card__header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-2);
    }

    .template-card__name {
      font-size: var(--font-size-lg);
      font-weight: 600;
      color: var(--color-text);
    }

    .template-card__badge {
      font-size: var(--font-size-xs);
      font-weight: 500;
      padding: var(--space-1) var(--space-2);
      background: var(--color-warning-light);
      color: var(--color-warning);
      border-radius: var(--radius-full);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .template-card__description {
      font-size: var(--font-size-sm);
      color: var(--color-text-muted);
      flex-grow: 1;
    }

    .template-card__links {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-2);
    }

    .template-card__links--disabled {
      opacity: 0.5;
    }

    .template-card__link {
      font-size: var(--font-size-sm);
      padding: var(--space-2) var(--space-3);
      border-radius: var(--radius-md);
      text-decoration: none;
      background: var(--color-background);
      color: var(--color-text);
      border: 1px solid var(--color-border);
      transition: background-color 0.15s, border-color 0.15s;
    }

    .template-card__link:hover {
      background: var(--color-primary-light);
      border-color: var(--color-primary);
      color: var(--color-primary);
    }

    .template-card__link--primary {
      background: var(--color-primary);
      color: var(--color-text-inverted);
      border-color: var(--color-primary);
    }

    .template-card__link--primary:hover {
      background: var(--color-primary-dark);
      border-color: var(--color-primary-dark);
      color: var(--color-text-inverted);
    }

    .template-card__link--disabled {
      cursor: not-allowed;
      pointer-events: none;
    }

    .templates-notes {
      padding: var(--space-6);
      background-color: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
    }

    .templates-notes h3 {
      font-size: var(--font-size-lg);
      font-weight: 600;
      margin-bottom: var(--space-4);
    }

    .templates-notes ul {
      list-style: disc;
      padding-left: var(--space-6);
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .templates-notes li {
      font-size: var(--font-size-sm);
      color: var(--color-text-muted);
    }
  </style>
</DevLayout>
