---
import Layout from '@layouts/Layout.astro';
import HeroSection from '@components/HeroSection.astro';
import HistorySection from '@components/about/HistorySection.astro';
import MilestonesTimeline from '@components/about/MilestonesTimeline.astro';
import MissionPillars from '@components/about/MissionPillars.astro';
import HierarchyPyramid from '@components/about/HierarchyPyramid.astro';
import CallToActionCards from '@components/about/CallToActionCards.astro';
import { useTranslations, type Language, defaultLang } from '@i18n/index';

import heroImage from '@assets/photos/grupo-vinheta.jpg';

export function getStaticPaths() {
  return [{ params: { lang: undefined } }, { params: { lang: 'en' } }];
}

const { lang } = Astro.params;
const currentLang: Language = (lang as Language) || defaultLang;
const t = useTranslations(currentLang);

const milestones = [
  { year: '1998', text: t('about.milestones.1998') },
  { year: '1999', text: t('about.milestones.1999') },
  { year: '2003', text: t('about.milestones.2003') },
  { year: '2004', text: t('about.milestones.2004') },
  { year: '2008', text: t('about.milestones.2008') },
  { year: '2023', text: t('about.milestones.2023') },
];
---

<Layout title={`${t('about.title')} | TunadÃ£o 1998`} description={t('about.description')}>
  <!-- 1. Hero with background image -->
  <HeroSection
    title={t('about.title')}
    subtitle={t('about.subtitle')}
    backgroundImage={heroImage}
    backgroundAlt={t('about.hero.alt')}
    subtitleColor="gold"
    height="60vh"
  />

  <!-- 2. History Section -->
  <HistorySection
    title={t('about.history')}
    dividerLabel={t('about.sections.history.dividerLabel')}
    p1={t('about.historyText.p1')}
    p2={t('about.historyText.p2')}
    p3={t('about.historyText.p3')}
    p4={t('about.historyText.p4')}
    image1Alt={t('about.sections.history.image1Alt')}
    image2Alt={t('about.sections.history.image2Alt')}
  />

  <!-- 3. Milestones Timeline -->
  <MilestonesTimeline
    title={t('about.milestones.title')}
    dividerLabel={t('about.sections.milestones.dividerLabel')}
    milestones={milestones}
  />

  <!-- 4. Mission Pillars -->
  <MissionPillars
    title={t('about.mission')}
    dividerLabel={t('about.sections.mission.dividerLabel')}
    lang={currentLang}
  />

  <!-- 5. Hierarchy Pyramid -->
  <HierarchyPyramid
    title={t('about.hierarchy.title')}
    intro={t('about.hierarchy.intro')}
    dividerLabel={t('about.sections.hierarchy.dividerLabel')}
    lang={currentLang}
  />

  <!-- 6. Call to Action Cards -->
  <CallToActionCards
    lang={currentLang}
    title={t('about.sections.cta.title')}
    description={t('about.sections.cta.description')}
    dividerLabel={t('about.sections.cta.dividerLabel')}
    palmaresText={t('about.sections.cta.palmares')}
    citadaoText={t('about.sections.cta.citadao')}
  />
</Layout>
